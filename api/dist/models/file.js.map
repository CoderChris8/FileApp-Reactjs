{"version":3,"sources":["../../src/models/file.js"],"names":["File","app","model","name","originalName","mimeType","size","created","Date","now","object","_","get","callback","db","collection","insertOne","err","result"],"mappings":";;;;;;;;AAAA;;;;;;;;IACMA,I;AACN,gBAAYC,GAAZ,EAAgB;AAAA;;AAChB,SAAKA,GAAL,GAAWA,GAAX;AACA,SAAKC,KAAL,GAAa;AACbC,YAAM,IADO;AAEbC,oBAAc,IAFD;AAGbC,gBAAU,IAHG;AAIbC,YAAM,IAJO;AAKbC,eAASC,KAAKC,GAAL;AALI,KAAb;AAOC;;;;mCACcC,M,EAAO;AACtB,WAAKR,KAAL,CAAWC,IAAX,GAAkBQ,iBAAEC,GAAF,CAAMF,MAAN,EAAc,MAAd,CAAlB;AACA,WAAKR,KAAL,CAAWE,YAAX,GAA0BO,iBAAEC,GAAF,CAAMF,MAAN,EAAc,aAAd,CAA1B;AACA,WAAKR,KAAL,CAAWG,QAAX,GAAsBM,iBAAEC,GAAF,CAAMF,MAAN,EAAc,UAAd,CAAtB;AACA,WAAKR,KAAL,CAAWI,IAAX,GAAkBK,iBAAEC,GAAF,CAAMF,MAAN,EAAc,MAAd,CAAlB;AACA,WAAKR,KAAL,CAAWK,OAAX,GAAqBC,KAAKC,GAAL,EAArB;AACA,aAAO,IAAP;AACC;;;6BACO;AACR,aAAO,KAAKP,KAAZ;AACC;AACD;;;;yBACKW,Q,EAAU;AACf,UAAMC,KAAK,KAAKb,GAAL,CAASW,GAAT,CAAa,IAAb,CAAX;AACAE,SAAGC,UAAH,CAAc,OAAd,EAAuBC,SAAvB,CAAiC,KAAKd,KAAtC,EAA6C,UAACe,GAAD,EAAMC,MAAN,EAAiB;AAC9D,eAAOL,SAASI,GAAT,EAAcC,MAAd,CAAP;AACC,OAFD;AAGC;;;;;;kBAEclB,I","file":"file.js","sourcesContent":["import _ from 'lodash'\nclass File {\nconstructor(app){\nthis.app = app;\nthis.model = {\nname: null,\noriginalName: null,\nmimeType: null,\nsize: null,\ncreated: Date.now(),\n}\n}\ninitWithObject(object){\nthis.model.name = _.get(object, 'name');\nthis.model.originalName = _.get(object, 'originlName');\nthis.model.mimeType = _.get(object, 'mimetype');\nthis.model.size = _.get(object, 'size');\nthis.model.created = Date.now();\nreturn this;\n} \ntoJson(){\nreturn this.model;\n}\n// Save function (may not be needed.)\nsave(callback) {\nconst db = this.app.get('db');\ndb.collection('files').insertOne(this.model, (err, result) => {\nreturn callback(err, result);\n});\n}\n}\nexport default File;"]}